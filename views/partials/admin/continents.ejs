<div id="admin-continent" class="card shadow rounded-4 p-4 mb-3">
    <h4 class="mb-3">Gerenciar Continentes</h4>

    <!-- Controls -->
    <div class="row g-2 mb-3">
        <div class="col-md-2">
            <button class="btn btn-primary w-100" data-bs-toggle="modal" data-bs-target="#modalAddContinent">
                <i class="fas fa-plus me-2"></i>Adicionar
            </button>
        </div>
    </div>

    <!-- Table -->
    <table class="table table-hover align-middle">
        <thead>
            <tr>
                <th>Continente</th>
                <th class="text-end">Excluir</th>
            </tr>
        </thead>

        <tbody>
            <% if (continents && continents.length > 0) { %>
                <% continents.forEach(cont => { %>
                    <tr data-bs-toggle="modal" data-bs-target="#modalEdit<%= cont.id %>" style="cursor:pointer;">
                        <td><%= cont.nome %></td>
                        <td class="text-end">
                            <button class="btn btn-sm btn-danger" data-bs-toggle="modal" data-bs-target="#modalDelete<%= cont.id %>" onclick="event.stopPropagation()">
                                <i class="fas fa-times"></i>
                            </button>
                        </td>
                    </tr>
                <% }) %>
            <% } else { %>
                <tr>
                    <td colspan="2" class="text-center text-muted">Nenhum continente encontrado.</td>
                </tr>
            <% } %>
        </tbody>
    </table>
</div>

<!-- Modal Adicionar -->
<div class="modal fade" id="modalAddContinent" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <form action="/geo/continents/create" method="POST">
                <div class="modal-header">
                    <h5 class="modal-title">Adicionar Continente</h5>
                    <button class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <label class="form-label">Nome</label>
                    <input type="text" name="nome" class="form-control mb-3" required>
                    <label class="form-label">Descrição</label>
                    <textarea name="descricao" class="form-control mb-3" required></textarea>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-success w-100">Adicionar</button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Modais Editar e Deletar -->
<% if (continents && continents.length > 0) { %>
    <% continents.forEach(cont => { %>
        <!-- Editar -->
        <div class="modal fade" id="modalEdit<%= cont.id %>" tabindex="-1">
            <div class="modal-dialog">
                <div class="modal-content">
                    <form action="/geo/continents/edit/<%= cont.id %>" method="POST">
                        <div class="modal-header">
                            <h5 class="modal-title">Editar <%= cont.nome %></h5>
                            <button class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <label class="form-label">Nome</label>
                            <input type="text" name="nome" class="form-control mb-3" value="<%= cont.nome %>" required>
                            <label class="form-label">Descrição</label>
                            <textarea name="descricao" class="form-control mb-3" required><%= cont.descricao %></textarea>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-primary w-100">Salvar alterações</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Deletar -->
        <div class="modal fade" id="modalDelete<%= cont.id %>" tabindex="-1">
            <div class="modal-dialog">
                <div class="modal-content">
                    <form action="/geo/continents/delete/<%= cont.id %>" method="POST">
                        <div class="modal-header">
                            <h5 class="modal-title text-danger">Excluir <%= cont.nome %></h5>
                            <button class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <p>Tem certeza que deseja excluir o continente <strong><%= cont.nome %></strong>?</p>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-danger w-100">Confirmar exclusão</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    <% }) %>
<% } %>